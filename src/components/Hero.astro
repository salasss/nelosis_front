---
import Button from "../components/Button.astro";
---

<section
  class="relative min-h-screen flex items-center overflow-hidden pt-20"
  id="hero"
>
  <!-- Dynamic Background -->
  <div class="absolute inset-0 z-0">
    <div
      class="absolute top-0 left-0 w-full h-full bg-gradient-to-br from-dark via-dark-secondary to-dark opacity-95"
    >
    </div>
    <div
      class="absolute top-[-10%] right-[-10%] w-[800px] h-[800px] bg-primary/10 rounded-full blur-[120px] animate-pulse-glow"
    >
    </div>
    <div
      class="absolute bottom-[-10%] left-[-10%] w-[600px] h-[600px] bg-accent/5 rounded-full blur-[100px] animate-float"
    >
    </div>
  </div>

  <div class="container mx-auto px-6 relative z-10">
    <div class="grid grid-cols-1 lg:grid-cols-2 gap-12 items-center">
      <!-- Left Column: Text -->
      <div class="hero-text space-y-8 order-2 lg:order-1">
        <div class="overflow-hidden">
          <div
            class="inline-block px-4 py-2 rounded-full border border-white/10 bg-white/5 backdrop-blur-sm mb-6 transform translate-y-full opacity-0 transition-all duration-700 ease-out"
            id="hero-badge"
          >
            <span class="text-accent text-sm font-bold tracking-wider uppercase"
              >Réseau Étudiant National</span
            >
          </div>
        </div>

        <div class="overflow-hidden">
          <h1
            class="text-5xl md:text-7xl lg:text-8xl font-display font-bold leading-[1.1] transform translate-y-full opacity-0 transition-all duration-1000 delay-100 ease-out"
            id="hero-title"
          >
            <span class="block text-white">Innover</span>
            <span
              class="block text-transparent bg-clip-text bg-gradient-to-r from-primary to-highlight"
              >pour le futur</span
            >
          </h1>
        </div>

        <div class="overflow-hidden">
          <p
            class="text-xl text-text-muted max-w-lg leading-relaxed transform translate-y-full opacity-0 transition-all duration-1000 delay-300 ease-out"
            id="hero-subtitle"
          >
            Le Réseau Nélosis propulse les initiatives étudiantes à impact
            écologique. Rejoignez le mouvement qui transforme les campus.
          </p>
        </div>

        <div
          class="flex flex-wrap gap-6 transform translate-y-10 opacity-0 transition-all duration-1000 delay-500 ease-out"
          id="hero-cta"
        >
          <Button href="#programs" variant="primary" class="glow-box"
            >Explorer les projets</Button
          >
          <Button href="#contact" variant="outline">Devenir membre</Button>
        </div>

        <!-- Stats Mini -->
        <div
          class="pt-8 border-t border-white/5 flex flex-wrap gap-8 md:gap-12 transform translate-y-10 opacity-0 transition-all duration-1000 delay-700 ease-out"
          id="hero-stats"
        >
          <div>
            <div class="text-3xl font-bold text-primary font-display">3+</div>
            <div class="text-sm text-text-muted">Antennes Régionales</div>
          </div>
          <div>
            <div class="text-3xl font-bold text-accent font-display">50+</div>
            <div class="text-sm text-text-muted">Étudiants Engagés</div>
          </div>
          <div>
            <div class="text-3xl font-bold text-highlight font-display">
              10+
            </div>
            <div class="text-sm text-text-muted">Projets Soutenus</div>
          </div>
        </div>
      </div>

      <!-- Right Column: Visual -->
      <div
        class="hero-visual relative order-1 lg:order-2 flex justify-center lg:justify-end perspective-1000"
      >
        <div
          class="relative w-full max-w-lg aspect-square transform transition-transform duration-100 ease-out"
          id="hero-image-container"
        >
          <!-- Abstract SVG -->
          <img
            src="/assets/images/hero-abstract.svg"
            alt="Innovation Abstract"
            class="w-full h-full object-contain drop-shadow-2xl animate-float"
            id="hero-image"
          />

          <!-- Floating Elements (Parallax) -->
          <div
            class="absolute top-10 right-10 w-20 h-20 bg-dark-secondary/80 backdrop-blur-md rounded-2xl border border-white/10 p-4 shadow-xl parallax-element"
            data-speed="20"
          >
            <div
              class="w-full h-full bg-accent/20 rounded-full flex items-center justify-center text-accent"
            >
              <svg
                xmlns="http://www.w3.org/2000/svg"
                fill="none"
                viewBox="0 0 24 24"
                stroke-width="2"
                stroke="currentColor"
                class="w-8 h-8"
                ><path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  d="M12 6v12m-3-2.818l.879.659c1.171.879 3.07.879 4.242 0 1.172-.879 1.172-2.303 0-3.182C13.536 12.219 12.768 12 12 12c-.725 0-1.45-.22-2.003-.659-1.106-.879-1.106-2.303 0-3.182s2.9-.879 4.006 0l.415.33M21 12a9 9 0 11-18 0 9 9 0 0118 0z"
                ></path></svg
              >
            </div>
          </div>

          <div
            class="absolute bottom-20 left-0 w-auto bg-dark-secondary/80 backdrop-blur-md rounded-full border border-white/10 py-3 px-6 shadow-xl parallax-element"
            data-speed="-15"
          >
            <span class="text-white font-bold text-sm flex items-center gap-2">
              <span class="w-2 h-2 bg-primary rounded-full animate-pulse"
              ></span>
              Impact Positif
            </span>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<style>
  .perspective-1000 {
    perspective: 1000px;
  }
</style>

<script>
  // Entrance Animation
  window.addEventListener("load", () => {
    const ids = [
      "hero-badge",
      "hero-title",
      "hero-subtitle",
      "hero-cta",
      "hero-stats",
    ];
    ids.forEach((id) => {
      const el = document.getElementById(id);
      if (el) {
        el.classList.remove("translate-y-full", "translate-y-10", "opacity-0");
      }
    });
  });

  // Mouse Parallax
  const container = document.getElementById("hero");
  const imageContainer = document.getElementById("hero-image-container");
  const parallaxElements = document.querySelectorAll(".parallax-element");

  if (container && imageContainer) {
    container.addEventListener("mousemove", (e) => {
      const { clientX, clientY } = e;
      const { innerWidth, innerHeight } = window;

      const xPos = (clientX / innerWidth - 0.5) * 2; // -1 to 1
      const yPos = (clientY / innerHeight - 0.5) * 2; // -1 to 1

      // Tilt Image Container
      imageContainer.style.transform = `rotateY(${xPos * 5}deg) rotateX(${-yPos * 5}deg)`;

      // Move Floating Elements
      parallaxElements.forEach((el) => {
        const speed = parseInt(el.getAttribute("data-speed") || "10");
        // @ts-ignore
        el.style.transform = `translate(${xPos * speed}px, ${yPos * speed}px)`;
      });
    });

    // Reset on mouse leave
    container.addEventListener("mouseleave", () => {
      imageContainer.style.transform = "rotateY(0) rotateX(0)";
      parallaxElements.forEach((el) => {
        // @ts-ignore
        el.style.transform = "translate(0, 0)";
      });
    });
  }
</script>
